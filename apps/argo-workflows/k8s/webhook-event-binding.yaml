apiVersion: argoproj.io/v1alpha1
kind: WorkflowEventBinding
metadata:
  name: webhook-binding
  namespace: argo
spec:
  event:
    # Match webhook events
    selector: payload.source != ""
  submit:
    workflowTemplateRef:
      name: webhook-workflow
    arguments:
      parameters:
      - name: message
        valueFrom:
          event: payload.message
      - name: source
        valueFrom:
          event: payload.source
      - name: timestamp
        valueFrom:
          event: payload.timestamp
